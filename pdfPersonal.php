<?phprequire 'vendor/setasign/fpdf/fpdf.php';class PDF extends FPDF{// Colored table    function FancyTable($candidata,$header, $candidatas,$calificaciones)    {        $this->Cell( 40, 10, $this->Image("lib/img/".$candidata['image'], $this->GetX(), $this->GetY(), 33.78), 0, 0, 'L', false );        $this->Cell(30, 10, utf8_decode("Nombre"), 33.78);        $this->Cell(30, 10, utf8_decode($candidata['nombre']), 33.78);       $this->SetX(170);        $this->Cell( 40, 10, $this->Image("lib/img/LogoItsa.png", $this->GetX(), $this->GetY(), 33.78), 0, 0, 'L', false );        $this->Ln();        $this->SetX(50);        $this->Cell(30, 10, utf8_decode("Apellidos"), 33.78);        $this->Cell(30, 10, utf8_decode($candidata['apellidos']), 33.78);        $this->Ln();        $this->SetX(50);        $this->Cell(30, 10, utf8_decode("Carrera"), 33.78);        $this->Cell(30, 10, utf8_decode($candidata['carrera']), 33.78);        $this->Ln();        $this->SetX(50);        $this->Cell(30, 10, utf8_decode("Edad"), 33.78);        $this->Cell(30, 10, utf8_decode($candidata['edad']), 33.78);        $this->Ln();        $this->SetX(50);        $this->Cell(30, 10, utf8_decode("Color"), 33.78);        $this->Cell(30, 10, utf8_decode($candidata['color_show']), 33.78);        $this->Ln();        $this->SetY(100);        // Colors, line width and bold font        $this->SetFillColor(255,0,0);        $this->SetTextColor(255);        $this->SetDrawColor(128,0,0);        $this->SetLineWidth(.3);        $this->SetX(20);        $this->SetFont('','B');        $this->SetFontSize(10);        $anchoColumnas = 25;        for($i=0;$i<count($header);$i++) {            $this->Cell($anchoColumnas, 7, $header[$i], 1, 0, 'C', true);        }        $this->Cell($anchoColumnas, 7, 'Total', 1, 0, 'C', true);        $this->Ln();        // Color and font restoration        $this->SetFillColor(224,235,255);        $this->SetTextColor(0);        $this->SetFontSize(8);        $this->SetFont('');        // Data        $fill = false;        $sumaDeSuma = 0;        $nombre = 0;        foreach($calificaciones as $row)        {            $this->SetX(20);            $this->Cell($anchoColumnas,6,$candidatas[$nombre],'LR',0,'L',$fill);            $suma = 0;            foreach ($row as $r) {                $this->Cell($anchoColumnas,6,$r,'LR',0,'L',$fill);                $suma += $r;            }            $sumaDeSuma += $suma;            $this->Cell($anchoColumnas,6,$suma,'LR',0,'L',$fill);            $this->Ln();            $fill = !$fill;            $nombre++;        }        $this->SetX(145);        $this->Cell($anchoColumnas,6,"SUMA",'LRB',0,'L',$fill);        $this->SetX(170);        $this->Cell($anchoColumnas,6,$sumaDeSuma,'LRB',0,'L',$fill);        $this->SetX(20);        // Closing line        $this->Cell($anchoColumnas*7,0,'','T');        $this->SetXY(145,143);        $this->Cell($anchoColumnas,6,"PROMEDIO",'LRBT',0,'L',$fill);        $this->Cell($anchoColumnas,6,$sumaDeSuma/((count($header)-1)*5),'LRBT',0,'L',$fill);    }}$_REQUEST['ganadores'] = "si";require 'vendor/autoload.php';require 'conection.php';require 'php/base_helper_database.php';$obj = new base_helper_database;$pdf = new PDF();$header = array();$datos = $obj->candidataEspecifica($_GET['can']);$datosCandidata = $datos[0];$datos = array();array_push($datos,$datosCandidata);//OBTENIENDO LOS NOMBRES DE LOS JUECES//LE PASAMOS COMO PRIMER PARAMETRO "CANDIDATA"array_push($header," ");foreach ($obj->listaAspectos() as $j){    array_push($header,$j['nombre']);}$parametros = array();foreach ($obj->listaJuezes() as $j) {    array_push($parametros,$j['nombre_j']);}$calificacionesJuecez = array();$arreglo_tmp = array(0,0,0,0,0);$numero_candidatas=0;$candidatas = array();$cal = "";$paramtro = array();foreach ($datos as $d){    for($i = 0;$i<$obj->contarJueces();$i++){        foreach ($d['calificacion'] as $c) {            if (($i + 1) == $c['id_juez']) {                $cal .= "".$c['calificacion']."-";            }        }        $cal = substr($cal,0,strlen($cal)-1);        array_push($calificacionesJuecez,explode("-",$cal));        $cal = "";    }}$numero_candidatas=0;//Data loading$data = array(0,1,2,3,4,5);$pdf->SetFont('Arial','',14);$candidata = $datos[0];$pdf->AddPage();$pdf->FancyTable($candidata,$header,$parametros,$calificacionesJuecez);$pdf->Output();?>