<?phprequire 'vendor/setasign/fpdf/fpdf.php';class PDF extends FPDF{// Colored table    function FancyTable($header, $candidatas,$calificaciones)    {        $this->Cell( 40, 40, $this->Image("lib/img/LogoItsa.png", $this->GetX(), $this->GetY(), 33.78), 0, 0, 'L', false );        $this->SetX(70);        $this->SetFontSize(20);        $this->SetFont('','B');        $this->Cell(40, 40, utf8_decode("Evento SeÃ±orita Tec 2017"), 33.78);        $this->Ln();        $this->Ln();        // Colors, line width and bold font        $this->SetFillColor(255,0,0);        $this->SetTextColor(255);        $this->SetDrawColor(128,0,0);        $this->SetLineWidth(.3);        $this->SetX(20);        $this->SetFont('','B');        $this->SetFontSize(10);        $anchoColumnas = 25;        for($i=0;$i<count($header);$i++) {            $this->Cell($anchoColumnas, 7, $header[$i], 1, 0, 'C', true);        }        $this->Cell($anchoColumnas, 7, 'Promedio', 1, 0, 'C', true);        $this->Ln();        // Color and font restoration        $this->SetFillColor(224,235,255);        $this->SetTextColor(0);        $this->SetFontSize(8);        $this->SetFont('');        // Data        $fill = false;        $nombre = 0;        foreach($calificaciones as $row)        {            $this->SetX(20);            $this->Cell($anchoColumnas,6,$candidatas[$nombre],'LR',0,'L',$fill);            $suma = 0;            foreach ($row as $r) {                $this->Cell($anchoColumnas,6,$r,'LR',0,'L',$fill);                $suma += $r;            }            $this->Cell($anchoColumnas,6,$suma/((count($header)-1)*5),'LR',0,'L',$fill);            $this->Ln();            $fill = !$fill;            $nombre++;        }        $this->SetX(20);        // Closing line        $this->Cell($anchoColumnas*7,0,'','T');    }}$_REQUEST['ganadores'] = "si";require 'vendor/autoload.php';require 'conection.php';require 'php/base_helper_database.php';$obj = new base_helper_database;$pdf = new PDF();$header = array();//OBTENIENDO LOS NOMBRES DE LOS JUECES//LE PASAMOS COMO PRIMER PARAMETRO "CANDIDATA"array_push($header,"Candidata");foreach ($obj->listaJuezes() as $j){    array_push($header,$j['nombre_j']);}$datos = $obj->obtenerCalificaciones();$candidatas = array();$calificacionesJuecez = array();$arreglo_tmp = array(0,0,0,0,0);$numero_candidatas=0;foreach ($datos as $d){    array_push($candidatas,$d['nombre']);    for($i = 0;$i<$obj->contarJueces();$i++){        foreach ($d['calificacion'] as $c) {            if (($i + 1) == $c['id_juez']) {                $arreglo_tmp[$i] += $c['calificacion'];            }        }    }    array_push($calificacionesJuecez,$arreglo_tmp);    unset($arreglo_tmp);    $arreglo_tmp = array(0,0,0,0,0);}//Data loading$data = array(0,1,2,3,4,5);$pdf->SetFont('Arial','',14);$pdf->AddPage();$pdf->FancyTable($header,$candidatas,$calificacionesJuecez);$pdf->Output();?>